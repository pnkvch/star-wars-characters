{"version":3,"sources":["constants/index.ts","actions/index.ts","images/SearchIcon.svg","style/sizes.ts","style/styles.ts","components/Details.tsx","components/Characters.tsx","App.tsx","reducers/character.ts","reducers/movies.ts","reducers/index.ts","sagas/fetchApi.ts","sagas/index.ts","index.tsx"],"names":["REQUEST_API_DATA","REQUEST_CHARACTER_DATA","RECEIVED_API_DATA","RECEIVED_CHARACTER_DATA","requestAPIData","query","type","payload","receivedAPIData","data","receivedCharacterMoviesData","size","device","mobileS","mobileM","mobileL","tablet","laptop","laptopL","desktop","desktopL","accentBackgroundColor","cardBackgroundColor","primaryFontColor","secondaryFontColor","Wrapper","styled","div","HeaderWrapper","header","Button","button","props","isCharacter","MainWrapper","CharacterWrapper","CharacterDetailsWrapper","CharacterInfo","Overlay","PendingWrapper","FilmTitles","p","InputWrapper","input","SearchIcon","CharacterDetails","character","setDetails","useSelector","state","moviesReducer","movies","loading","dispatch","useDispatch","useEffect","films","name","gender","birth_year","height","eye_color","hair_color","color","width","map","item","index","title","onClick","id","isShowing","Characters","characters","handleViewDetailsClick","length","skin_color","includes","App","characterReducer","next","useState","viewDetails","setViewDetails","saveScrollPostion","setSaveScrollPosition","showNextBtn","setShowNextBtn","value","setValue","handleClick","window","scrollTo","onScroll","innerHeight","scrollY","document","body","offsetHeight","addEventListener","removeEventListener","parseInt","console","log","placeholder","onChange","e","target","filter","toLowerCase","pageYOffset","prevState","handleBottom","initialState","initialMovieState","combineReducers","action","concat","results","fetchData","a","url","fetch","response","json","fetchCharacter","requests","x","Promise","all","fetchApiData","fetchCharacterData","rootSaga","call","put","error","takeLatest","sagaMiddleware","createSagaMiddleware","storage","createStore","rootReducer","applyMiddleware","run","ReactDOM","render","StrictMode","store","getElementById"],"mappings":"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","file":"static/js/main.1850e233.chunk.js","sourcesContent":["export const REQUEST_API_DATA = \"REQUEST_API_DATA\";\nexport const REQUEST_CHARACTER_DATA = \"REQUEST_CHARACTER_DATA\";\nexport const RECEIVED_API_DATA = \"RECEIVED_API_DATA\";\nexport const RECEIVED_CHARACTER_DATA = \"RECEIVED_CHARACTER_DATA\";\n","import {\n  RECEIVED_API_DATA,\n  RECEIVED_CHARACTER_DATA,\n  REQUEST_API_DATA,\n  REQUEST_CHARACTER_DATA,\n} from \"../constants\";\nimport {\n  RequestApiDataAction,\n  ReceivedApiDataAction,\n  StarWarsResponseData,\n  RequestCharacterDataAction,\n  ReceivedCharacterDataAction,\n  StarWarsMovie,\n} from \"../types\";\n\nexport const requestAPIData = (query: string | null): RequestApiDataAction => {\n  return {\n    type: REQUEST_API_DATA,\n    payload: query,\n  };\n};\nexport const requestCharacterMoviesData = (\n  query: string[]\n): RequestCharacterDataAction => {\n  return {\n    type: REQUEST_CHARACTER_DATA,\n    payload: query,\n  };\n};\n\nexport const receivedAPIData = (\n  data: StarWarsResponseData\n): ReceivedApiDataAction => {\n  return {\n    type: RECEIVED_API_DATA,\n    payload: data,\n  };\n};\n\nexport const receivedCharacterMoviesData = (\n  data: Promise<StarWarsMovie[]>\n): ReceivedCharacterDataAction => {\n  return {\n    type: RECEIVED_CHARACTER_DATA,\n    payload: data,\n  };\n};\n","export default __webpack_public_path__ + \"static/media/SearchIcon.f03464f4.svg\";","const size = {\n  mobileS: \"320px\",\n  mobileM: \"375px\",\n  mobileL: \"425px\",\n  tablet: \"768px\",\n  laptop: \"1024px\",\n  laptopL: \"1440px\",\n  desktop: \"2560px\",\n};\n\nexport const device = {\n  mobileS: `(max-width: ${size.mobileS})`,\n  mobileM: `(max-width: ${size.mobileM})`,\n  mobileL: `(max-width: ${size.mobileL})`,\n  tablet: `(max-width: ${size.tablet})`,\n  laptop: `(max-width: ${size.laptop})`,\n  laptopL: `(max-width: ${size.laptopL})`,\n  desktop: `(max-width: ${size.desktop})`,\n  desktopL: `(max-width: ${size.desktop})`,\n};\n","import styled from \"styled-components\";\nimport SearchIcon from \"../images/SearchIcon.svg\";\nimport { device } from \"./sizes\";\n\nconst fontFamily = '\"Roboto\", sans-serif';\nconst accentBackgroundColor = \"#f05d5e\";\nconst cardBackgroundColor = \"#e7ecef\";\nconst primaryFontColor = \"#272932\";\nconst secondaryFontColor = \"#e7ecef\";\nconst primaryFontSize = \"1em\";\n\ninterface CharacterProps {\n  isCharacter?: boolean;\n}\n\nexport const Wrapper = styled.div`\n  width: 95%;\n  margin: auto;\n  margin-top: 4.5em;\n  display: flex;\n  flex-wrap: wrap;\n\n  @media ${device.tablet} {\n    margin-top: 2.5em;\n  }\n\n  @media ${device.mobileL} {\n    width: 93%;\n    margin-top: 2.5em;\n    font-size: 14px;\n  }\n`;\n\nexport const HeaderWrapper = styled.header`\n  background-color: ${accentBackgroundColor};\n  padding-left: 2.5%;\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: 1;\n\n  h1 {\n    color: ${secondaryFontColor};\n  }\n  @media ${device.tablet} {\n    padding-left: 3%;\n    font-size: 0.8em;\n    h1 {\n      font-size: 1.5em;\n      padding-left: 2%;\n    }\n  }\n`;\n\nexport const Button = styled.button<CharacterProps>`\n  color: ${(props) =>\n    props.isCharacter ? accentBackgroundColor : secondaryFontColor};\n  background-color: ${(props) =>\n    props.isCharacter ? secondaryFontColor : accentBackgroundColor};\n\n  border-radius: 19px;\n  padding: 0.5em;\n  min-width: 4.6em;\n  width: fit-content;\n  border: none;\n  font-size: ${primaryFontSize};\n  font-weight: bold;\n  outline: none;\n  cursor: pointer;\n  margin-right: 0.5em;\n  transition: 0.1s ease-in;\n\n  &:hover {\n    color: ${(props) =>\n      props.isCharacter ? secondaryFontColor : accentBackgroundColor};\n    background-color: ${(props) =>\n      props.isCharacter ? accentBackgroundColor : secondaryFontColor};\n  }\n`;\n\nexport const MainWrapper = styled.div`\n  font-family: ${fontFamily};\n  letter-spacing: 0.5px;\n  margin: 0;\n  padding: 1em 0 1em 0;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n  color: ${primaryFontColor};\n  align-items: center;\n  @media only screen and (max-width: 1050px) {\n    font-size: 16px;\n  }\n`;\n\nexport const CharacterWrapper = styled.div`\n  padding-right: 1.2em;\n  display: flex;\n  color: ${primaryFontColor};\n  background-color: ${cardBackgroundColor};\n  border-radius: 15px;\n  margin: 10px;\n  padding: 10px;\n  width: 17%;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  cursor: pointer;\n  transition: 0.1s ease-in;\n\n  &:hover {\n    transform: scale(1.05);\n  }\n\n  h3 {\n    color: #cccccc;\n    margin-bottom: 0;\n  }\n\n  span {\n    display: block;\n    width: 100%;\n    margin-top: 5px;\n    margin-bottom: 5px;\n  }\n\n  @media ${device.laptop} {\n    width: 19%;\n  }\n\n  @media ${device.tablet} {\n    width: 25%;\n  }\n\n  @media ${device.mobileL} {\n    width: 35%;\n  }\n`;\n\nexport const CharacterDetailsWrapper = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 75%;\n  height: 75%;\n  background-color: ${cardBackgroundColor};\n  top: 13%;\n  position: absolute;\n  z-index: 999;\n  border-radius: 15px;\n  justify-content: center;\n  align-items: center;\n\n  @media ${device.tablet} {\n    width: 85%;\n    height: 65%;\n    top: 17%;\n  }\n`;\n\nexport const CharacterInfo = styled.div`\n  height: 90%;\n  display: flex;\n  flex-direction: column;\n  width: 85%;\n\n  span {\n    padding: 5px;\n    :nth-child(7) {\n      padding-bottom: 15px;\n    }\n  }\n`;\n\nexport const Overlay = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: rgba(0, 0, 0, 0.5);\n  z-index: 998;\n  cursor: pointer;\n`;\n\nexport const PendingWrapper = styled.div`\n  font-size: 22px;\n  display: flex;\n  flex-wrap: wrap;\n  width: 95%;\n  margin: auto;\n  justify-content: space-evenly;\n  color: ${secondaryFontColor};\n  @media ${device.tablet} {\n    font-size: 16px;\n  }\n`;\n\nexport const FilmTitles = styled.p`\n  padding: 5px;\n  margin: 5px;\n  @media ${device.laptop} {\n    margin: 0;\n  }\n`;\n\nexport const InputWrapper = styled.input`\n  -webkit-appearance: none;\n  border: 3px solid ${cardBackgroundColor};\n  border-radius: 8px;\n  width: 98.5%;\n  height: 3em;\n  color: ${cardBackgroundColor};\n  margin: 1.2em auto;\n  padding-left: 2.5em;\n  font-size: ${primaryFontSize};\n  position: relative;\n  background: url(${SearchIcon}) no-repeat 8px 8px;\n\n  &::placeholder {\n    color: ${cardBackgroundColor};\n  }\n`;\n","import React, { useEffect } from \"react\";\nimport Loader from \"react-loader-spinner\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { requestCharacterMoviesData } from \"../actions\";\nimport {\n  Button,\n  CharacterDetailsWrapper,\n  CharacterInfo,\n  FilmTitles,\n  HeaderWrapper,\n  MainWrapper,\n  Overlay,\n  PendingWrapper,\n} from \"../style/styles\";\nimport {\n  Details,\n  StarWarsCharacter,\n  StarWarsStateType,\n  StarWarsMovie,\n} from \"../types\";\n\ninterface Props {\n  character: StarWarsCharacter;\n  setDetails: React.Dispatch<React.SetStateAction<Details>>;\n}\n\nconst CharacterDetails = ({ character, setDetails }: Props) => {\n  const { movies, loading } = useSelector(\n    (state: StarWarsStateType) => state.moviesReducer\n  );\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n    setDetails({ id: \"\", isShowing: false });\n  };\n\n  useEffect(() => {\n    dispatch(requestCharacterMoviesData(character.films));\n  }, [character.films, dispatch]);\n\n  return (\n    <MainWrapper>\n      <HeaderWrapper>\n        <h1>Star Wars Characters Catalogue</h1>\n      </HeaderWrapper>\n      <CharacterDetailsWrapper>\n        <CharacterInfo>\n          <h2>\n            <b>General information</b>\n          </h2>\n          <span>\n            <b>Name: </b>\n            {character.name}\n          </span>\n          <span>\n            <b>Gender: </b>\n            {character.gender}\n          </span>\n          <span>\n            <b>Birth Year: </b>\n            {character.birth_year}\n          </span>\n          <span>\n            <b>Heigh: </b>\n            {character.height}\n          </span>\n          <span>\n            <b>Eye Color: </b>\n            {character.eye_color}\n          </span>\n          <span>\n            <b>Hair Color: </b>\n            {character.hair_color}\n          </span>\n          <span>\n            <b>Names of the films {character.name} played in:</b>\n          </span>\n          {loading && (\n            <PendingWrapper>\n              <Loader type=\"ThreeDots\" color=\"#f05d5e\" height=\"80\" width=\"80\" />\n            </PendingWrapper>\n          )}\n          {movies.map((item: StarWarsMovie, index) => {\n            return <FilmTitles key={index}>- {item.title}</FilmTitles>;\n          })}\n        </CharacterInfo>\n        <Button onClick={handleClick} isCharacter={true}>\n          Back To Collection\n        </Button>\n      </CharacterDetailsWrapper>\n      <Overlay />\n    </MainWrapper>\n  );\n};\n\nexport default CharacterDetails;\n","import React from \"react\";\nimport { Button, CharacterWrapper } from \"../style/styles\";\nimport { StarWarsCharacter } from \"../types\";\n\ninterface Props {\n  characters: StarWarsCharacter[];\n  handleViewDetailsClick: (e: React.SyntheticEvent) => void;\n}\n\nconst Characters = ({ characters, handleViewDetailsClick }: Props) => {\n  if (!characters.length) {\n    return <p color=\"white\">No search results</p>;\n  }\n\n  return (\n    <>\n      {characters.map((item: StarWarsCharacter, index) => {\n        return (\n          <CharacterWrapper key={index}>\n            <span>\n              Name: <span>{item.name}</span>\n            </span>\n            <span>Birth Year: {item.birth_year}</span>\n            <span>Gender: {item.gender}</span>\n            <span>Eye Color: {item.eye_color}</span>\n            <span>Skin Color: {item.skin_color}</span>\n            <span>\n              Height:{\" \"}\n              {item.height.includes(\"unknown\")\n                ? item.height\n                : `${item.height} cm`}\n            </span>\n            <Button\n              id={`${index}`}\n              onClick={handleViewDetailsClick}\n              isCharacter={true}\n            >\n              View details\n            </Button>\n          </CharacterWrapper>\n        );\n      })}\n    </>\n  );\n};\n\nexport default Characters;\n","import React, { useEffect, useState } from \"react\";\nimport { Details, StarWarsStateType } from \"./types\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { requestAPIData } from \"./actions\";\nimport {\n  Button,\n  MainWrapper,\n  Wrapper,\n  HeaderWrapper,\n  PendingWrapper,\n  InputWrapper,\n} from \"./style/styles\";\nimport CharacterDetails from \"./components/Details\";\nimport Loader from \"react-loader-spinner\";\nimport Characters from \"./components/Characters\";\n\nconst App: React.FC = () => {\n  const { characters, next, loading } = useSelector(\n    (state: StarWarsStateType) => state.characterReducer\n  );\n  const [viewDetails, setViewDetails] = useState<Details>({\n    id: \"0\",\n    isShowing: false,\n  });\n  const [saveScrollPostion, setSaveScrollPosition] = useState(0);\n  const [showNextBtn, setShowNextBtn] = useState(true);\n  const [value, setValue] = useState(\"\");\n  const dispatch = useDispatch();\n\n  const handleClick = () => {\n    setShowNextBtn(false);\n    dispatch(requestAPIData(next));\n  };\n\n  const handleViewDetailsClick = (e: React.SyntheticEvent) => {\n    setSaveScrollPosition(window.pageYOffset);\n    setViewDetails((prevState: Details) => ({\n      id: (e.target as Element).id,\n      isShowing: !prevState.isShowing,\n    }));\n  };\n\n  const handleBottom = () => {\n    if (showNextBtn && !loading && !value) {\n      return <Button onClick={handleClick}>Load More</Button>;\n    }\n  };\n\n  const handleInputChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValue(e.target.value);\n  };\n\n  useEffect(() => {\n    dispatch(requestAPIData(null));\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (saveScrollPostion) {\n      window.scrollTo(0, saveScrollPostion);\n    }\n  }, [viewDetails.isShowing, saveScrollPostion]);\n\n  useEffect(() => {\n    const onScroll = () => {\n      if (\n        window.innerHeight + window.scrollY >=\n          document.body.offsetHeight - 100 &&\n        next &&\n        !viewDetails.isShowing &&\n        !showNextBtn\n      ) {\n        dispatch(requestAPIData(next));\n      }\n    };\n    if (!loading) {\n      window.addEventListener(\"scroll\", onScroll);\n    }\n    return () => window.removeEventListener(\"scroll\", onScroll);\n  }, [\n    dispatch,\n    loading,\n    next,\n    saveScrollPostion,\n    showNextBtn,\n    viewDetails.isShowing,\n  ]);\n\n  if (viewDetails.isShowing) {\n    return (\n      <CharacterDetails\n        character={characters[parseInt(viewDetails.id)]}\n        setDetails={setViewDetails}\n      />\n    );\n  }\n\n  const searchResults = () => {\n    if (!value) {\n      return characters;\n    }\n    return characters.filter((item) =>\n      item.name.toLowerCase().includes(value.toLowerCase())\n    );\n  };\n\n  console.log(characters);\n\n  return (\n    <MainWrapper>\n      <HeaderWrapper>\n        <h1>Star Wars Characters Catalogue</h1>\n      </HeaderWrapper>\n      <Wrapper>\n        <InputWrapper\n          type=\"search\"\n          placeholder=\"Search character\"\n          value={value}\n          onChange={handleInputChange}\n        />\n\n        <Characters\n          characters={searchResults()}\n          handleViewDetailsClick={handleViewDetailsClick}\n        />\n      </Wrapper>\n      {loading && (\n        <PendingWrapper>\n          <Loader type=\"ThreeDots\" color=\"#f05d5e\" height=\"80\" width=\"80\" />\n        </PendingWrapper>\n      )}\n      {handleBottom()}\n    </MainWrapper>\n  );\n};\n\nexport default App;\n","import { PayloadAction } from \"@reduxjs/toolkit\";\nimport { RECEIVED_API_DATA, REQUEST_API_DATA } from \"../constants\";\nimport { StarWarsResponseData, StarWarsCharacterStateType } from \"../types\";\n\nlet initialState: StarWarsCharacterStateType = {\n  characters: [],\n  loading: true,\n  next: null,\n};\n\nexport let characterReducer = (\n  state = initialState,\n  action: PayloadAction<StarWarsResponseData>\n): StarWarsCharacterStateType => {\n  switch (action.type) {\n    case REQUEST_API_DATA:\n      return {\n        ...state,\n        loading: true,\n      };\n\n    case RECEIVED_API_DATA:\n      return {\n        characters: state.characters.concat(action.payload.results),\n        loading: false,\n        next: action.payload.next,\n      };\n    default:\n      return state;\n  }\n};\n","import { PayloadAction } from \"@reduxjs/toolkit\";\nimport { RECEIVED_CHARACTER_DATA, REQUEST_CHARACTER_DATA } from \"../constants\";\nimport { StarWarsMovie, StarWarsMoviesStateType } from \"../types\";\n\nlet initialMovieState: StarWarsMoviesStateType = {\n  movies: [],\n  loading: true,\n};\n\nexport let moviesReducer = (\n  state = initialMovieState,\n  action: PayloadAction<Promise<StarWarsMovie>[]>\n) => {\n  switch (action.type) {\n    case REQUEST_CHARACTER_DATA:\n      return {\n        movies: [],\n        loading: true,\n      };\n    case RECEIVED_CHARACTER_DATA:\n      return {\n        movies: action.payload,\n        loading: false,\n      };\n\n    default:\n      return state;\n  }\n};\n","import { combineReducers } from \"redux\";\nimport { characterReducer } from \"./character\";\nimport { moviesReducer } from \"./movies\";\n\nexport default combineReducers({\n  characterReducer,\n  moviesReducer,\n});\n","import { StarWarsMovie, StarWarsResponseData } from \"../types\";\n\nexport async function fetchData(\n  query: string | null\n): Promise<StarWarsResponseData> {\n  const url = query ? query : \"https://swapi.dev/api/people/\";\n  const response = await fetch(url);\n\n  return await response.json();\n}\n\nexport async function fetchCharacter(\n  movies: string[]\n): Promise<StarWarsMovie[]> {\n  const requests: Promise<StarWarsMovie>[] = movies.map(async (item) => {\n    const x = await fetch(item);\n    return await x.json();\n  });\n\n  return await Promise.all(requests);\n}\n","import { call, put, takeLatest, all } from \"redux-saga/effects\";\n\nimport { receivedAPIData, receivedCharacterMoviesData } from \"../actions/index\";\nimport { REQUEST_API_DATA, REQUEST_CHARACTER_DATA } from \"../constants\";\nimport {\n  RequestApiDataAction,\n  RequestCharacterDataAction,\n  StarWarsMovie,\n  StarWarsResponseData,\n} from \"../types\";\nimport { fetchCharacter, fetchData } from \"./fetchApi\";\n\nfunction* fetchApiData(action: RequestApiDataAction) {\n  try {\n    const data: StarWarsResponseData = yield call(fetchData, action.payload);\n\n    yield put(receivedAPIData(data));\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nfunction* fetchCharacterData(action: RequestCharacterDataAction) {\n  try {\n    const data: Promise<StarWarsMovie[]> = yield call(\n      fetchCharacter,\n      action.payload\n    );\n\n    yield put(receivedCharacterMoviesData(data));\n  } catch (e) {\n    console.error(e);\n  }\n}\n\nexport default function* rootSaga() {\n  yield all([\n    takeLatest(REQUEST_API_DATA, fetchApiData),\n    takeLatest(REQUEST_CHARACTER_DATA, fetchCharacterData),\n  ]);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./css/index.css\";\nimport App from \"./App\";\nimport createSagaMiddleware from \"redux-saga\";\nimport { applyMiddleware, createStore } from \"redux\";\nimport rootReducer from \"./reducers/index\";\nimport rootSaga from \"./sagas\";\nimport { Provider } from \"react-redux\";\n\nconst sagaMiddleware = createSagaMiddleware();\n\nlet storage = createStore(rootReducer, applyMiddleware(sagaMiddleware));\n\nsagaMiddleware.run(rootSaga);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={storage}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}